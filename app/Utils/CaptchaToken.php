<?php

namespace App\Utils;

use GuzzleHttp\Client;
use GuzzleHttp\Exception\RequestException;
use GuzzleHttp\Psr7\Request;

class CaptchaToken
{

    public static function get(string $nik)
    {

        $client = new Client();

        $headers = [
            "accept" => "*/*",
            "accept-language" => "en-GB,en-US;q=0.9,en;q=0.8,id;q=0.7",
            "content-type" => "application/x-protobuffer",
            "sec-ch-ua" => "\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"",
            "sec-ch-ua-mobile" => "?0",
            "sec-ch-ua-platform" => "\"Windows\"",
            "sec-fetch-dest" => "empty",
            "sec-fetch-mode" => "cors",
            "sec-fetch-site" => "same-origin",
            "x-client-data" => "CLK1yQEIjLbJAQiktskBCKmdygEI3pHLAQiUocsBCIWgzQEI6MXNAQi4yM0BGI/OzQEY1dzNAQ==",
            "cookie" => "__Secure-3PAPISID=hUl9nyOwneZyN1-t/ARVtT93YipKs3cUzF; __Secure-3PSID=bwipYt4xOdU0ns9-YCmZczqhdbrvwApkF95CCBKf8V24jTrx_Y8AxgFTbWWUrM5FCnOi-Q.; __Secure-3PSIDTS=sidts-CjABNiGH7h5CFJ7RxwQLxTt-IXBdy3hpUbNZLIJLCDbYdWsZmROAxs0y5V_DbN37nZAQAA; NID=511=en1psC3c1iXbBcUmfFuRsfZ6ir3k6MjD8BDF4H9p_sQQwu9zwIw4A56w3BsAjXorgPd1xtHkBtfrWsxPJlN8ijnfEMQX54P5qgxQGKo5PqnO-FDbG7t80U-QpSkxuAEqjwOc_zYUxO8lINx6xT_yOgoY8YOFuKQlaq_q2ZeaMSi6v_rJCOeXFxjw1L6rV1CtnztnAble-htNIfwtYOtY_xSk3e4woS1-zy9oyZu72YmOqgdCIm0344ru2NAe5Wu57vUIgxHWE6Nn6ilirH7r6x0KNuVkCo7m2EpzA_jjMZwXaQQXYCKk2RDglkB0lZOiNd9UfzBTxNLSmr1KP6FLXJtdCD5FCahzAwSo_l9ZfpBOPkkQfi5qgOWeoZMAFsFVP_AEuUK0LSGjVvh7Xedao2vwUnKUdzTVdhRYUdb5LRwc81N8keU613EQcODPHEV4wkd_PWi_7BNkgFbJneQpO6zAwHjjQgTPTLG_3_sMD9IvWLmXaT9Ba1einD0n0P4C31hQYhbFFCYpAHF38ElLYMtWVzPRgT-gWwIkKStJwVCdeoGDydIclm25d0HTfRL3Vpvagz5Ev6iU7q5p4yR_lmw7rX0Tn_vjbZ1egg-Wq6yMMgso8zeDSKSOpnoQGLvpnAbgH-bP-HH7LTJVQ3IVCZPZOHN76zcPzTNkXZaValhS6pPijidiIws0fRwZC5gbp3bvIpm709TmYBRDZT8TldIKz-BPR6smljBcUFvDi74iDnpoLd7W6FVdPUyRLsFC07MrSV_G8WkzXylN7Lw-s33pVyK7N2hjPMc19jFiQRt8L9idAP4dCswaE8mp7JcMZTevnsPXhb1q34U; __Secure-3PSIDCC=ACA-OxPtQDY0isErfEazfrH6T8VHMMdvklf4eK297lCyt29CP1v9_4c71u_uarEptRqRI_V9UUw",
            "Referer" => "https://www.google.com/recaptcha/api2/anchor?ar=1&k=6Lcs6gYaAAAAAFgluYoQBea_lCpiT9MkKH-jzhDH&co=aHR0cHM6Ly9jZWtkcHRvbmxpbmUua3B1LmdvLmlkOjQ0Mw..&hl=en-GB&v=fGZmEzpfeSeqDJiApS_XZ4Y2&size=invisible&cb=8h9oonm77ee6",
            "Referrer-Policy" => "strict-origin-when-cross-origin"
        ];

        $body =
            "\n\u0018fGZmEzpfeSeqDJiApS_XZ4Y2\u0012\u000b03AFcWeA47zTIFf_0WMedtA6QkNy6yZ_scwV1ab6GcfWbeTq8PghbTbPtaRlX_giaadY09dybpNy6b-RT5-9rdPdMZkn-rW7xHbzF8Ij_aRKXAEZ7eSriGApSCy-yGxBFBikKBPiMpg0FJaryvCulfY7iY3xWj9HHu9YMe9mtiup2M02y1LMiMyrB16tAmdruhs6_aXVqZsW07CiIxmEN1hWvVUpyxSCaqZjEOGH5h5ObmwuoqXK8DJUq_S0eoHzA59QTw0R4poJvRasNtkdhk7niTDEWMbzb9CYXX3TnsDCwfI98-7FA-qxyNkpzNxgukcVq-Taib4LaQM6h_duu4h-BPWOFsJc2vPfgNwt1b-IBPMIm6un1ArQOJIZGuc9yvgNDWXVIAU7kSB7CpszAKSuGUOpeqe82DWkmmyo4eJOvKGUJ43djGFF0IlUA29QhGvrHCvg_C5FkkK0-W-4V36SNrG63wP9CHPcEOjYSm6dQ4XTpGkOp9KBMV3ReUMvnvcDve2pf-pPtaks8zLhJbvFnOpGCd6fV4vgIABAKcP14LMvqB2nkLwEJTXvBuDyLwFVQPXF2rRPurBrT9Ker9YMi2G0SrqnXlCftJKrYb9sNRT9_H5_-PTL3eK5Af5ROv_HzQs0N8kiTUKqwfJOjYRWzT3SR_twrZ6g1F23FBWVUlh_jSbZ3FUO5YG53OahePG1R5N-YITD4WNV7MiELcRD-VxMgukQ8m3oHhdpsyauVHmsx0f14R-zEHuYXkz2bUwt5Y5jJDC937vVo5jPnvUykBI7RQudP7dx4rgw6THIbqGRnYN8670W_P7OveYqt4xxUIoT8_8Lr_hsGrWBG2EwFuV6NRHPlGIss_w3sbM5FjmV1fs0reXRETvr7FCeUzGsbkGevJPjNGSdOkMqCWNhM76eSqVV1DMPJay2RgN2jy5d3Vu8b-7j9UWUa40F9_1S0oq5T9zF1Ivh4wCKVazgTRtklR8zys3Lc7m_P8-hxeMhyJqb0oKtYXwTO8K6dWzmPZ0f3ybjhcQmHdadMeyfaM_agIVbgreRsafsjeigXLiLjDK2kscMT5gieydRWamJ-i24DWRPa1GQv2EE_oEtr8oAYulrv8Zt89Ooj2xsEGyAD5gWYrgWKsspUb_kxvRPJmDeA7MrphUr4GWzA7ZYPAjMJOukXt-sbtv8UxMdQ4lWtR3_Zyxw_LWWb6RBWssewC6yTHY63dWXgSrRA16ong8trN1U-fEnZokI5eMPYtWI1099gW7BCAtgeLfPvKhNt31uFeAFtSUTv7f4acpR0aJASqAhYKRmCPDodV8bX0IAkqApsxFtpg-s58kfKaht1eYMv0rEAsUZT3i_ZzIZtkmW__ySH-D3BZzKe3J6aLO1i0p0P4itctPaUogt7_QgUDEoNeOQ1d\"Ô\b!8_Wg9fAKAAQeAXkBbQEHDwJKH5yCHynDspgMm0ZEQ-yx0o5AbGJSN4ZNbBqG6xivWbj1Yq3uQlfQDI_Wa38CIxZIpJ9BxC--OACFwsZO1vjLWlTOpzoVv_WDeIzRwjju8zu3dXOumUAtcSKaK9cyW_RQuTToVH-nHyOUHydiYYS64PNIpkwLISEL8MP0IrLtwAnIjWHTTIZ-GiN8vqGuivYyDuiXTtCeKxHmrmo_R-8H56ddQSSHi0PbNSlwyUXcEpXHXVvdhmeepjUOr8nQvMbnkB0EQ1Qvym5ansK8ZGdHMyOVZ42t6kwpBZrs399K8RIjegmrWXYlxyqqgeSnBV9Y3S2t6ToWoAZ1GaPcJE40Om5Z0CT34h204NzQEiE1bJORuKE7hqxurpTfkrd4CYsZRzBPBjsGBSp0q4X3yXEfKUjLZK38cNGLcrDN00vwhRDZmJ727SVoUQiyI0AXeSKRyWVsdm8HrBNjkNBFTBSD2Y02CXU12VVHp_XzSCDw8aL0LWO2Ry0ymMHWquPmx5FXF50Yf3QqJPLMjgPkGPXVe2sVMuOCA7bAdQSPPHxEEeHaZgdxSSDAUdTo24MirktOvXAiB7hAC043s6OLaHE2IyZfsAVwvWTE5DZNJ92Sr_YKouTB2O-Ewkt9TS9SnYJBH1o8l03at91CJ7TQQnja-VeodkcFM6cRZvybFOsVA7ZT1upHqlfvP8ta9I1AVJDLSKP8n6vpXAvz_JOS1V7Mr1xgMds78EalfbAGA-gAlhrV1LyWcMyWBKv9IcYySi8CobGDj-j3S7Ic25wA3zqpgRv_L7tO0pgz4YO9854df6Ypb4Bzkw_VHNE04_Rs7aDW_OTxCfdoiVFmD9WPvdUpDWoUlsvr4ZTa7RSBEGpvDAQmJ_JKWvxJAG4632LK8Vt2KYH-xLMTEhMX7Nlwqof95XjwNLUIw3U-OsqE8qG-86lxptEtbuPWvykefmZA1Imz35nSuCGtfhPcPSrhad6Y0ed_tYrV-lQQyYVmGwu3wZGsWUC2sP2_0xqOa0EDwI0pusIVhdfVIhrcL0FuH2-zY4Zr3YCziCGOpw286GKvlhd92owTYVY-g0YExTk*\n19496828132\u0001q:¼\u000205AK-LSi_tXkFS-i0kwlKgtRv3Et7i7_ad91gCVNsmii37SByr3d1mw3BNlblUARO_wEwhi1T7TaxeeHtJFsfl7rzoPxwndgIQ8VVmBHNJaYY26GX3zuMhHWhjM-Sx9yAJDfwaupO__pRg2BTiuZorJU480gEaDBjoUNcjBIVIvAYQ8B0xl8zFjOqyHThD4N7G6M-SERFBeOKm7RVza7YcfcF96Kh0ED5WUmMnNS4jzm3Fy530fKETHrlV7WfCNMjdV2e8C0sY3QyM_3f-tfKL7HbmMX2Vu_QoFme3j8A5pYGj-7Nw3Eib88V-OQB\u0005loginr(6Lcs6gYaAAAAAFgluYoQBea_lCpiT9MkKH-jzhDH\u0001#0y6NyNeikIB7hlFDMyo1A_Hh2OeyoJNajXBwJgkgMynx6PfCsKCbpnFjU0pVIBIB-QfSwLCrtoFzY1plMCISCRfi0MC7xpGDc2p1QDIiGSfy4NB-ilSME2nM95sl-SwW-Ui_nlk4QrHFN7qiVHvGJgDe7dDEH42g18LtmIb61QAK4alEY32xBB6CiSAqiSzjYlnESsq811pyaXRDMSEYJvHj08rVoJKCeYRTQTEoNwHz49rlsKKSiZRjUUE4RxID852pmLeObOwLWljXlyYMV5qRPJuR9MRi6mRwUukwj45x3AMmaVBu8hC31r2NFzLcy-Ll7Nu2kaingxVA7vrp3Aga9UhS0WiDjoV0XzJJRB-14Y-bik2Xq1pxS_pReOu3HWz-mbC_wp2gY3p1UOcSvMi7hqyLoqWoj35RaGc-1QCuuqlco4HpY8rWYRQuiWTUChUHmrG8w5KJYHt2SeQTvcm4Y3bce5KVlJeGQVhXKsTwnqqY2M5pgIeOgWAzSkUYtuKMmIrJwNvLboVXprV0a0Z1NCdJeJOejZRvQllUK8Xxn6uaxNQrYkTjwuW1HxbhoNLmtUgKlfT4fvUYMz4pMArh-PfDZZE_SzoBO-tN8Afi_VD6zjV4rklgZ2ZlUBMqJPSWwmx4a6qRFypBTEsiIPALBdF3o01ZSH7lGDM2ORwa4fjz52WRP0s6BW8KISwvGgTT6uHRV4MtOSv6igwu2fD8AtHIo7qxoSdS_Qj7mukT_0aZV76ppKRSddVHVvYsErnQ18q5qK-mjYBnUiE4NyKk0H6KeRPbdej_UkIYh26RdDbaVZSapn2Xwu25S2cFqFN6yUTLQiSkVuo5QAL1XEa50N_isaiDmpGBBzMqNQPx4Y-bif0fmwZ4sCMJhEPyHUQ_ZuR7kpWYe35BWFc6xPCeqpkH9mmAh4phWDNKQSy24oyYi0Gg1EeBaUeW0XyHXkV8ny3Q7H6KOUvWiZyvLwHoP64Jf6O5dTdncUCLZnoEe9JByFNGGSA6YnEHpqm1E7ZZeJd95N-bOjyfUo30rBLVv9euGK_ridhsImGktDsVcHL1wZSLNlyHvw03-xIVF_bl4Ne-wZCDYmVQQzLVAK66qdxGeZCfjpVsQ1pRPMby6fTDsaFPW0oM3585lP7Z8Pfu2eC3upGMk25BZFc6xPCeqpmTtxq0nGZuDTuyqcwb6rFku9Yxm_bNdVPnWWQzZs2oXzIBGJdJ8HA6qUgjEsYYJ-oxQLNaJLe7ViDDlzoJF57dYCuxnKfOqmzkWiYcy-MBZC-2KTfyffl7tsGwK6I9PL9aSciHBclgUr2cx_rZ6Hs6OZSnKf1EX2ooMD3Y8AcF5Ne2wZSHilF0Z0bVAK66qOzP2fT0BoEoQ0ZBOB8CDPf2zcyTtp1xF0Ls-OuGWPOqwcTTwrVwi4Zl9CPN2cjvvZizvsGkg2J5dE_mEgkX4tDAbnppGKMORKu7PXSfjwFITxKhbI6FdYvbZlUPspHgP87pK6cZhZRzaiiUKonkY3pVUAs2IRBTdc0HmvIYk97E1B86APSCkkTDm01xD_YA8NtVscP3YYUrt0XI74cFcEc20Shu9nWTst3UP-qNVOMqnNAnqg0P1rW9E64VjFNO8UwHIjUgEuoo8BKWBI-PEayf5tWMWyHkc86iIIt27cQHRtEkHv4c3ErSLNdmGQC7dlmk024Un4tR6LvHQaTThsVclybA14M-AFBeqeiLYr3EVs2xrB8dhMBa1aUviu3Ar3IgvAcOSIR26ZUD6yXo065NrIMKVJBTilDTqu2AU0ow0OsmhJOm2kybkxmJG5a5eBbKvYQzXeDHyyohR1YE8_dtyLOXWoULhvGNVAoV0QvSrRSLBjEUPrHMozIprAPCrWzrOskz7u5Q86I9uM-e1NTKzijEMx40cE5FUUPqmXgHFeUUxqX5fEaZxTPyjeUXznEQB8oAk4cp0Ts-sYTG8eE0r4J1GIqBYJuKRZiX0n3Ec6oFvALVfSvLKg1HjpkEP87lv7KV0TRO1UCr8xnM_1phV7PCMNA3HcCTqu2Ae1oFbOslsNSS7lDHTrHoq3qF0FOy2QQXFfEoUtX46BJc9LPSTc-rAcTncrZQxC6hlMOqeQQXyhWr9mkYMzZBMAbh5NPDZZE_SznU58ap7JeigbAWiaCvsoF4U2phTNcCrLirnrVLrtacuIahoQQKlYTv6qF8wuXcxE6mGLwTRVxXkfGUS9IdFB7l2KPKiS_a8fT72uGgu7KaJFP-CfkLqoVIM07MxHOGPWAmUk_7EhkAAvng57bBpKNihXRb5hG_y7qBuGZ5kJeekXRDWlE4xvKcqJuVvUefUfEIbxYI785JyO_m2ZQfofFcQznozyslTE_R3IuipayjglFoY0rVAK66qVxPKh03ztZM25bJ5JeWzcTqxfW_-xJlH88dUJNy5XzHWlm8NxXVcDJSNQM-haAXRZizvqWwk2J5cFfmEb_Luszz5s4tK9OFsTxOgbigAwVEay5ROC9icGOXPZETHw4YY25VmJ7uGIB-XiyHLu2Ud0YxhELqbEtibVhDOhEoIwaUwG56aOPiwXSfhfkQHwX9B8LZ0LRGcXRnYkk0E73JuEfOsVOvKpFQHq4glD8NpNqpwMfGvZRzioFk9yLM2E-W2ZzfVslwb0JVTGqpgIcRuNPa3bDDkpF0Y2IxVEcqtOCOmokoovapRErlpIAuEQhnKr2kEyqAj8uB7NQi8e0cGkWsHx3BfBLmRV8KISQrAfTT6uG9V4MtOSu2QUSLivINCyZNGGcGaMP7eckgFtWdE75FS8PKMIRvacEQEzDb8vYA8-ahuLOPJVD_CvnAWALNbPOiDSgHdbUoKyGIPzL-DFu90UQyllFPe0XYS4MmCFgKbSvDeZjrjsWk2DbpnSPyZNDfpi2wf5IE85dZrKwCAWvbNqjHmtl1L-8ReK-mmPA20hV8ZzH469pdRDuGGWjbqrlIF23sgBLd7Dei5gkj_rmoo6YxJIqRxFeq7Yinef2sbtatLHMmjOwuCSAnKgkD0vXlZ5M9STtzSh1Lomm8Vyq10H8GhaA7akjoPnF0p2KxtDMeQRwWOVBfUkFAAxoQ4IayXGhbcmUsXuoknxad9FfuNdhqnfmYOw2M2EcFXHOGmTenxiDgWs5on4JmHPOCNJuyvbinkmF4b2LlEL-unKgvvq18g1UwrDNKLRflyOOq1cTXa0VxHyqeITgfBeUH1ZizeqWUpzsVQO76mg0TLiWMC7pliFI5UBtKQOjHteDjwopNhItSbXxeCeQTvq2f9tXUz5KljH-CQVRDPhDwBvnYz6K1rI-WUWRbSi0AFxHo27LFxLemYXR3XlEQKwH4-8LZtKeicYhnbmEgOxYVA9LpxM-ugZh_cmEwSzYRA-L54MvSkaiXjoVAW04lK_MKAN_Oobi3jn1Qa2Y9RAMd9Pf2scynmp1gf1pBSBMuCRACwdy7tqFwj25VYCM-IQAG0ezTzq2An4ZpaDNOOSAm4fzn4r2Qr56RdENeUTAW8g0H2smgv7adeFNyQThDAiD34umw06apmGOCWUxXEjEL8v3A47qhqHOScVRbIkEkGvHQ89LNuIOiiWxfMlE8GxnhA_bVzJOyoYhvQmFUQxHxF-bl1KPGnYSXUnVMUzIBJ_7x7LPWsZyLYoVkRz4RNBcV9MPmybCzcpV4U0IhRCseCNP23cizgqWQd2YxVD8yDOAG8dzHkpWAc35RMDciEQvy0dTDtq2oc3ZhVF9KERQC_fDzsrWgm5KFUFdCQSwS8fTj5s28k5aBiGt2MTQjKgkL0tXA07atcHdibVwzEhUAFvHcs7alkKOSUVRHNjEf8vXk29bFkJeGdYBzMjUkHxII09bFwL-acXRnalE8ExYFD_bxsLemqZiXUlVEU0Yw8_bl9NfOkZSHlmFwMzYlNCcV0NfKscCXcnVoV1ZNEBcJ9OfmsbSrlqGMU1ZJOD8t8Pfq3dDHkpWIf2ZdMDcqGSQS0dTLwsWcc3ZpaFc2ERQLBfjbsrWor4ZxUFdKUTAu8fTr9snQk5aNcG9mMTQvEiET0tXMt7q1cHduVUxXEhUP-uHws7atmKOSUWRLOjHH8vHQx8dlkYiXYlBAO0YRAvKdj-bZ1LuicYR_VmU0EyYc8_bmdKOmgXR0FkI5RBMA8J-N7Oe2skRzclFER-YSCRfi0MBvXaSnmnlgQ0ZFPDMV4Ofm5cCngoWIZ1JJICcqCP_-wcTHvpWRJ1JRMCcmxPDr9sGzo5qlcGJR_O9KNRgTBdDr1rW4r3KJdF9OURArFgDz8rHIt6qJkFNqVUwnGfEL9u3Au5KplJN2dTBLNjUn9tHo27a9lHOKeVhLPhEoGvnw17LJuKOCkVBrWkU0MvII--LVsJOqmYhvUjFIOzIBE9Lp2NeqtXCLenFMTxIpGBb13LPKvZCjglFoVzY1MLbh5MO2tlVHc2p1QDIhz9tOZYAr1nWYk3Y1i6tZ_Qt6EbfrRfR7kp2Md3ZhUFcmMPAXBel0Z¢\u0001å\u000151bGwsbnVsbCxbbnVsbCxudWxsLG51bGwsWzI2LDEuMjAzODQ2MTc5NTIyMDAwOCwwLjAwMjgzNzc2NjgzNzgxMjc3NDMsMTFdLFswLG51bGwsMF1dLFsiY2VrZHB0b25saW5lLmtwdS5nby5pZCIsImZvbnRzLmdvb2dsZWFwaXMuY29tIiwid3d3Lmdvb2dsZS5jb20iLCJ3d3cuZ3N0YXRpYy5jb20iXV0ª\u0001I0aAK-LSi8mhadDKceDd00liK8FjHktjscR_xjHad43G2mPoKU6iBajdEuNxGM_PybnEar9q_4"
    ;


        $request = new Request('POST', "https://www.google.com/recaptcha/api2/reload?k=6Lcs6gYaAAAAAFgluYoQBea_lCpiT9MkKH-jzhDH",
            $headers,
            $body
        );
        $res = $client->sendAsync($request)->wait();
        $data = json_decode($res->getBody());

        return $data;

    }

}
